# ADM（Api-Domain-Model）

项目目录结构遵循了一定的开发理念。

Api层可以理解为是请求开始结束以及组合业务的地方
- 主要负责以下几件事情:
    - 获取请求参数并且验证请求参数的有效性
    - 对Domain领域层的实现进行拼接来组成整个接口的业务
    - 对于返回结果进行处理
- Api接口层应该做：
    - 对用户登录态进行必要的检测
    - 控制业务场景的主流程，创建领域业务实例，并进行调用
    - 进行必要的日志纪录
    - 返回接口结果
- Api接口层不应该做：
    - 进行业务规则的处理或者计算
    - 关心数据是否使用缓存，或进行缓存相关的直接操作
    - 直接操作数据库

Domain层负责处理具体业务逻辑

- 将复杂业务拆分代码复用：
    - 一个方法只完成一件事情，复杂逻辑应该被拆分
    - Domain层尽量减少互相之间的调用，应该由API层拼接（API层能够一眼看出整个接口要做哪几件事）
    - 核心单测集中在Domain层中进行

Model层负责获取数据
- 统一数据获取入口提升扩展性：
    - 每个方法只完成一件事情，比如GetInfoById、UpdateNameById、GetCountUser
    - 避免定义非常通用的方法，比如where条件以字符串传递，容易导致SQL注入问题
    - 只需要修改一个文件就可以对数据结构调整或缓存进行优化，不用修改业务逻辑层
    
